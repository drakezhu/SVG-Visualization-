<!DOCTYPE html>
<html>
<head>
	<script lang="javascript" src="js/jquery-3.1.0.min.js"></script>
	<script lang="javascript" src="js/d3.min.js"></script>
	<style>
		html, body {
			padding: 0;
			margin: 0;
		}
	</style>
</head>
<body>
	
	<script>
		var dimension = 500;
        var x_dimension = dimension;
        var y_dimension = dimension;
        
		// var svg = d3.select('body').append('svg')
		// 	.attr('width', dimension)
		// 	.attr('height', dimension)
		// 	.style('background-color', 'black');

		// YOUR CODE SHOULD START HERE
		/*
		 * Name: YOUR NAME
		 * Word: THE WORD YOU CHOSE
		 */


		// svg.append("circle")
		// 	.attr("id", "hi")
		// 	.attr("cx", 0)
		// 	.attr("cy", 0)
		// 	.attr("r", 50)
		// 	.attr("fill", "#ffffcc");

		var mousecoord = [0, 0];

		var svg = d3.select('body').append('svg')
			.attr('width', dimension)
			.attr('height', dimension)
            .on("mousemove", function () {
                mousecoord = d3.mouse(this);                
                d3.select("#light").attr("cx", mousecoord[0])
                                   .attr("cy", mousecoord[1]);
                var x_offset = (mousecoord[0] - dimension/2) / (dimension / 10);
                var y_offset = (mousecoord[1] - dimension/2) / (dimension / 10);
                // d3.select("#eye").attr("transform", "translate(" + x_offset + ", " + y_offset +")");
                // d3.select("#eye").attr("clip-path", "url(#eye_clip)");
            })
			.style('background-color', 'black');             

		svg.append("circle")
            .attr("id", "light")
            .attr("pointer-events", "none")
            .attr("r", 15)
            .attr("fill", "green")
            .attr("opacity", 0.5);

        var dataset = [];
        for (var i = 0; i < 500; i++ ) {
            var new_x = Math.random() * x_dimension;
            var new_y = Math.random() * y_dimension;
            dataset.push([new_x, new_y]);
        }

        var circles = svg.selectAll("circle")
            .data(dataset)
            .enter()
            .append("circle");
        
        circles.attr("cx", function(d) { return d[0]; })
           .attr("cy", function(d) { return d[1]; })
           .attr("r", 8)
           .attr("fill","orange");
           //.on("mouseover", callback());

        circles.each(function(){
            var cur_thing = d3.select(this);
            var cur_x = cur_thing.attr("cx");
            // var move_x = (x_dimension/2) - cur_x;
            var cur_y = cur_thing.attr("cy");
            cur_thing.on("mouseover",callback())
            // var move_y = (y_dimension/2) - cur_y;
            // cur_thing.transition()
            //     .duration(Math.random() * 30000)
            //     .attr("transform", "translate(" + move_x +"," + move_y +")");
        });
		// svg.
		// var text = svg.append("text")
		// 	.text("Click me!")
		// 	.attr("x", dimension / 2)
		// 	.attr("y", dimension / 2)
		// 	.style("text-anchor", "middle");		
		// svg.on("click", function() {
		// 	svg.select("text").remove();
		// 	x_pos = event.pageX;
		// 	y_pos = event.pageY;
			
		// });
		function callback(){
   			return function(){
    			d3.select(this).attr("fill","black");
    								
    									
    		}
    	}


		

		// YOUR CODE SHOULD END HERE
	</script>
</body>
</html>